# Debezium Server Configuration for Oracle via OpenLogReplicator
# Uses HTTP sink with a simple file-writer service

# ============================================
# Sink Configuration (HTTP -> File Writer)
# ============================================
debezium.sink.type=http
debezium.sink.http.url=http://file-writer:8080/events
debezium.sink.http.timeout.ms=5000

# ============================================
# Format Configuration
# ============================================
debezium.format.key=json
debezium.format.value=json
debezium.format.value.schemas.enable=false

# ============================================
# Source Configuration (Oracle with OpenLogReplicator)
# ============================================
debezium.source.connector.class=io.debezium.connector.oracle.OracleConnector
debezium.source.database.hostname=oracle
debezium.source.database.port=1521
debezium.source.database.user=c##dbzuser
debezium.source.database.password=dbzpwd
debezium.source.database.dbname=FREE
debezium.source.database.pdb.name=FREEPDB1
debezium.source.topic.prefix=oracle

# OpenLogReplicator adapter configuration
debezium.source.database.connection.adapter=olr
debezium.source.openlogreplicator.source=ORACLE
debezium.source.openlogreplicator.host=olr
debezium.source.openlogreplicator.port=9000

# Tables to capture (USR1 for test tables, TPCC for HammerDB)
debezium.source.schema.include.list=USR1,TPCC

# Offset storage
debezium.source.offset.storage.file.filename=/debezium/data/offsets.dat
debezium.source.offset.flush.interval.ms=10000

# Schema history storage
debezium.source.schema.history.internal=io.debezium.storage.file.history.FileSchemaHistory
debezium.source.schema.history.internal.file.filename=/debezium/data/schema-history.dat

# Snapshot mode
debezium.source.snapshot.mode=initial
